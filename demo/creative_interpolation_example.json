{
  "last_node_id": 442,
  "last_link_id": 833,
  "nodes": [
    {
      "id": 363,
      "type": "Note",
      "pos": [
        2739.5175354568137,
        -674.111819693321
      ],
      "size": {
        "0": 312.1289367675781,
        "1": 245.289306640625
      },
      "flags": {},
      "order": 0,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "Increasing the multipler makes the video longer by creating new frames - it can result in some weird effects >2 but worth experimenting with for additional motion/fluidity."
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 359,
      "type": "Note",
      "pos": [
        -1622.7415290357228,
        -791.9995827115519
      ],
      "size": {
        "0": 261.6278991699219,
        "1": 118.72222137451172
      },
      "flags": {},
      "order": 1,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "## You'll need to create this folder in ComfyUI/inputs and place your images inside it in numerical order - 1.png, 2.png, etc."
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 292,
      "type": "STMFNet VFI",
      "pos": [
        2656.5175354568137,
        -930.1118196933209
      ],
      "size": {
        "0": 443.4000244140625,
        "1": 150
      },
      "flags": {},
      "order": 18,
      "mode": 0,
      "inputs": [
        {
          "name": "frames",
          "type": "IMAGE",
          "link": 758
        },
        {
          "name": "optional_interpolation_states",
          "type": "INTERPOLATION_STATES",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            656
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "STMFNet VFI"
      },
      "widgets_values": [
        "stmfnet.pth",
        15,
        2,
        true
      ]
    },
    {
      "id": 401,
      "type": "VHS_LoadImagesPath",
      "pos": [
        -1420.7415290357228,
        -1050.9995827115524
      ],
      "size": {
        "0": 315,
        "1": 170
      },
      "flags": {},
      "order": 2,
      "mode": 0,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            737,
            823
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null,
          "shape": 3
        },
        {
          "name": "INT",
          "type": "INT",
          "links": [],
          "shape": 3,
          "slot_index": 2
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_LoadImagesPath"
      },
      "widgets_values": {
        "directory": "input",
        "image_load_cap": 0,
        "skip_first_images": 0,
        "select_every_nth": 1
      },
      "color": "#332922",
      "bgcolor": "#593930"
    },
    {
      "id": 389,
      "type": "PreviewImage",
      "pos": [
        -1399,
        -565
      ],
      "size": {
        "0": 380,
        "1": 250
      },
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 737
        }
      ],
      "properties": {
        "Node name for S&R": "PreviewImage"
      }
    },
    {
      "id": 364,
      "type": "Note",
      "pos": [
        -632.9539818636737,
        -682.3698404564998
      ],
      "size": {
        "0": 295.6344299316406,
        "1": 204.49923706054688
      },
      "flags": {},
      "order": 3,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "Please set batch_size at frames_per_key_frame * number_of_key_frames + 4 - the 4 is to give additional buffer to solve issues with the uniform context scheduling. A hacky solution for now."
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 281,
      "type": "VHS_VideoCombine",
      "pos": [
        3379.5156021557077,
        -1024.2727017010202
      ],
      "size": [
        320,
        544
      ],
      "flags": {},
      "order": 19,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 656
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "VHS_VideoCombine"
      },
      "widgets_values": {
        "frame_rate": 14,
        "loop_count": 0,
        "filename_prefix": "creative_interpolation_results/AD_",
        "format": "video/h264-mp4",
        "pingpong": false,
        "save_image": true,
        "crf": 20,
        "save_metadata": true,
        "audio_file": "",
        "videopreview": {
          "hidden": false,
          "paused": false,
          "params": {
            "filename": "AD__00407.mp4",
            "subfolder": "creative_interpolation_results",
            "type": "output",
            "format": "video/h264-mp4"
          }
        }
      }
    },
    {
      "id": 352,
      "type": "CLIPTextEncode",
      "pos": [
        33,
        -1011
      ],
      "size": {
        "0": 483.6921691894531,
        "1": 182.32534790039062
      },
      "flags": {
        "pinned": false
      },
      "order": 11,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 644
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            822
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "hands, hand, (worst quality, low quality:1.2)"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 367,
      "type": "BatchPromptSchedule",
      "pos": [
        22,
        -1452
      ],
      "size": {
        "0": 482.4560241699219,
        "1": 371.4627990722656
      },
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 669
        }
      ],
      "outputs": [
        {
          "name": "POS",
          "type": "CONDITIONING",
          "links": [
            821
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "NEG",
          "type": "CONDITIONING",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "BatchPromptSchedule"
      },
      "widgets_values": [
        "\"0\" :\"\",\n\"12\" :\"\",\n\"24\" :\"\",\n\"36\" :\"\",\n\"48\" :\"\",\n\"60\" :\"\",\n\"72\" :\"\",\n\"84\" :\"\",\n\"96\" :\"\",\n\"108\" :\"\",\n\"120\" :\"\"\n",
        120,
        false,
        "PRE",
        "APP",
        0,
        0,
        0,
        0,
        0
      ]
    },
    {
      "id": 370,
      "type": "CLIPVisionLoader",
      "pos": [
        -616,
        -238
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {},
      "order": 4,
      "mode": 0,
      "outputs": [
        {
          "name": "CLIP_VISION",
          "type": "CLIP_VISION",
          "links": [
            826
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPVisionLoader"
      },
      "widgets_values": [
        "SD1.5/pytorch_model.bin"
      ]
    },
    {
      "id": 369,
      "type": "IPAdapterModelLoader",
      "pos": [
        -591,
        -424
      ],
      "size": {
        "0": 303.41448974609375,
        "1": 58
      },
      "flags": {},
      "order": 5,
      "mode": 0,
      "outputs": [
        {
          "name": "IPADAPTER",
          "type": "IPADAPTER",
          "links": [
            825
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "IPAdapterModelLoader"
      },
      "widgets_values": [
        "ip-adapter-plus_sd15.bin"
      ]
    },
    {
      "id": 360,
      "type": "Note",
      "pos": [
        711,
        -1372
      ],
      "size": {
        "0": 444.2115173339844,
        "1": 615.5187377929688
      },
      "flags": {},
      "order": 6,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "Key frames are **distributed either linearly of dynamically**. \n\nIf you set type_of_frame_distribution to linear, you need to set linear_frame_distribution_value to the gap you wish to have between each key frame - e.g. 16 would mean the frames are at 0, 16, 32, 48, etc.\n\nAlternatively, if you set it to dynamic, you can input the positions of the key frames in the text box below this.\n\nSimilarly, type_of_key_frame_influence determines how the frames influence the next ones. If you set it to linear, linear_key_frame_influence_value will determine how long every frame influences - 1.0 will make it normal, higher values will make it longer. If you set type_of_key_frame_influence to dynamic, you can input distinct values in linear_key_frame_influence_value for each frame.\n\nOther than this, please experiment with the different settings to achieve your desired effect:\n\n- frames_per_key_frame: How many frames to generate between each main key frame you provide.\n- cn_strength: How strong the control of the ControlNet should overall.\n- soft_scaled_cn_weights_multiplier: kinda similar to cn_strength but also different - please experiment!\n- interpolation: the type of interpolation from one image to the next.\n- buffer is the number of buffer frames places before your video - this is to prevent the end of the generation influencing the beginning due to how the context scheduler works."
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 187,
      "type": "ADE_AnimateDiffLoaderWithContext",
      "pos": [
        1530,
        -470
      ],
      "size": {
        "0": 315,
        "1": 190
      },
      "flags": {
        "pinned": false
      },
      "order": 15,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 829,
          "slot_index": 0
        },
        {
          "name": "context_options",
          "type": "CONTEXT_OPTIONS",
          "link": 627,
          "slot_index": 1
        },
        {
          "name": "motion_lora",
          "type": "MOTION_LORA",
          "link": null
        },
        {
          "name": "motion_model_settings",
          "type": "MOTION_MODEL_SETTINGS",
          "link": null,
          "slot_index": 3
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            815
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ADE_AnimateDiffLoaderWithContext"
      },
      "widgets_values": [
        "mm_sd_v15_v2.ckpt",
        "sqrt_linear (AnimateDiff)",
        1,
        false
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 362,
      "type": "Note",
      "pos": [
        2030,
        -670
      ],
      "size": {
        "0": 256.1595153808594,
        "1": 253.7761993408203
      },
      "flags": {},
      "order": 7,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "motion_scale can also be really useful - tuning it down can remove jolty motion."
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 342,
      "type": "ADE_AnimateDiffUniformContextOptions",
      "pos": [
        1970,
        -1080
      ],
      "size": {
        "0": 315,
        "1": 154
      },
      "flags": {},
      "order": 8,
      "mode": 0,
      "outputs": [
        {
          "name": "CONTEXT_OPTIONS",
          "type": "CONTEXT_OPTIONS",
          "links": [
            627
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ADE_AnimateDiffUniformContextOptions"
      },
      "widgets_values": [
        17,
        2,
        2,
        "uniform",
        false
      ]
    },
    {
      "id": 189,
      "type": "Efficient Loader",
      "pos": [
        -665.9539818636737,
        -1439.3698404565005
      ],
      "size": {
        "0": 448.8115539550781,
        "1": 605.9432983398438
      },
      "flags": {
        "pinned": false
      },
      "order": 9,
      "mode": 0,
      "inputs": [
        {
          "name": "lora_stack",
          "type": "LORA_STACK",
          "link": null
        },
        {
          "name": "cnet_stack",
          "type": "CONTROL_NET_STACK",
          "link": null,
          "slot_index": 1
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            824
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "CONDITIONING+",
          "type": "CONDITIONING",
          "links": [],
          "shape": 3,
          "slot_index": 1
        },
        {
          "name": "CONDITIONING-",
          "type": "CONDITIONING",
          "links": [],
          "shape": 3,
          "slot_index": 2
        },
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            633
          ],
          "shape": 3,
          "slot_index": 3
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            632
          ],
          "shape": 3,
          "slot_index": 4
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            644,
            669
          ],
          "shape": 3,
          "slot_index": 5
        },
        {
          "name": "DEPENDENCIES",
          "type": "DEPENDENCIES",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "Efficient Loader"
      },
      "widgets_values": [
        "Realistic_Vision_V5.0.safetensors",
        "vae-ft-mse-840000-ema-pruned.safetensors",
        -2,
        "None",
        1,
        1,
        "",
        "",
        "none",
        "comfy",
        512,
        512,
        52
      ],
      "color": "#223333",
      "bgcolor": "#335555",
      "shape": 1
    },
    {
      "id": 354,
      "type": "VHS_SplitImages",
      "pos": [
        2628,
        -1159
      ],
      "size": {
        "0": 315,
        "1": 118
      },
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 756
        }
      ],
      "outputs": [
        {
          "name": "IMAGE_A",
          "type": "IMAGE",
          "links": [],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "A_count",
          "type": "INT",
          "links": null,
          "shape": 3
        },
        {
          "name": "IMAGE_B",
          "type": "IMAGE",
          "links": [
            758
          ],
          "shape": 3,
          "slot_index": 2
        },
        {
          "name": "B_count",
          "type": "INT",
          "links": null,
          "shape": 3,
          "slot_index": 3
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_SplitImages"
      },
      "widgets_values": {
        "split_index": 4
      }
    },
    {
      "id": 207,
      "type": "KSampler Adv. (Efficient)",
      "pos": [
        1520,
        -1320
      ],
      "size": {
        "0": 325,
        "1": 658
      },
      "flags": {
        "pinned": false
      },
      "order": 16,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 815
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 827
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 828
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 633
        },
        {
          "name": "optional_vae",
          "type": "VAE",
          "link": 632
        },
        {
          "name": "script",
          "type": "SCRIPT",
          "link": null,
          "slot_index": 5
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "CONDITIONING+",
          "type": "CONDITIONING",
          "links": [],
          "shape": 3,
          "slot_index": 1
        },
        {
          "name": "CONDITIONING-",
          "type": "CONDITIONING",
          "links": [],
          "shape": 3,
          "slot_index": 2
        },
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [],
          "shape": 3,
          "slot_index": 3
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": [],
          "shape": 3,
          "slot_index": 4
        },
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            756
          ],
          "shape": 3,
          "slot_index": 5
        }
      ],
      "title": "KSampler Adv. (Efficient), CN sampler",
      "properties": {
        "Node name for S&R": "KSampler Adv. (Efficient)"
      },
      "widgets_values": [
        "enable",
        6,
        null,
        20,
        10,
        "ddpm",
        "karras",
        5,
        20,
        "disable",
        "auto",
        "true"
      ],
      "color": "#222233",
      "bgcolor": "#333355",
      "shape": 1
    },
    {
      "id": 437,
      "type": "BatchCreativeInterpolation",
      "pos": [
        -71,
        -735
      ],
      "size": {
        "0": 400,
        "1": 588
      },
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 821
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 822
        },
        {
          "name": "images",
          "type": "IMAGE",
          "link": 823
        },
        {
          "name": "model",
          "type": "MODEL",
          "link": 824
        },
        {
          "name": "ipadapter",
          "type": "IPADAPTER",
          "link": 825
        },
        {
          "name": "clip_vision",
          "type": "CLIP_VISION",
          "link": 826
        }
      ],
      "outputs": [
        {
          "name": "graph",
          "type": "IMAGE",
          "links": [
            816
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "links": [
            827
          ],
          "shape": 3,
          "slot_index": 1
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "links": [
            828
          ],
          "shape": 3,
          "slot_index": 2
        },
        {
          "name": "model",
          "type": "MODEL",
          "links": [
            829
          ],
          "shape": 3,
          "slot_index": 3
        }
      ],
      "properties": {
        "Node name for S&R": "BatchCreativeInterpolation"
      },
      "widgets_values": [
        "control_v11f1e_sd15_tile_fp16.safetensors",
        "linear",
        16,
        "0,20,36",
        "linear",
        1.5,
        "2.3,1.5,1.5,1.5",
        "linear",
        "(0.0,0.4)",
        "(0.0,1.0),(0.0,1.0),(0.0,1.0),(0.0,1.0)",
        0.85,
        4,
        1.5,
        1.2000000000000002,
        0.3
      ]
    },
    {
      "id": 436,
      "type": "PreviewImage",
      "pos": [
        497,
        -638
      ],
      "size": {
        "0": 720,
        "1": 440
      },
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 816
        }
      ],
      "properties": {
        "Node name for S&R": "PreviewImage"
      }
    }
  ],
  "links": [
    [
      627,
      342,
      0,
      187,
      1,
      "CONTEXT_OPTIONS"
    ],
    [
      632,
      189,
      4,
      207,
      4,
      "VAE"
    ],
    [
      633,
      189,
      3,
      207,
      3,
      "LATENT"
    ],
    [
      644,
      189,
      5,
      352,
      0,
      "CLIP"
    ],
    [
      656,
      292,
      0,
      281,
      0,
      "IMAGE"
    ],
    [
      669,
      189,
      5,
      367,
      0,
      "CLIP"
    ],
    [
      737,
      401,
      0,
      389,
      0,
      "IMAGE"
    ],
    [
      756,
      207,
      5,
      354,
      0,
      "IMAGE"
    ],
    [
      758,
      354,
      2,
      292,
      0,
      "IMAGE"
    ],
    [
      815,
      187,
      0,
      207,
      0,
      "MODEL"
    ],
    [
      816,
      437,
      0,
      436,
      0,
      "IMAGE"
    ],
    [
      821,
      367,
      0,
      437,
      0,
      "CONDITIONING"
    ],
    [
      822,
      352,
      0,
      437,
      1,
      "CONDITIONING"
    ],
    [
      823,
      401,
      0,
      437,
      2,
      "IMAGE"
    ],
    [
      824,
      189,
      0,
      437,
      3,
      "MODEL"
    ],
    [
      825,
      369,
      0,
      437,
      4,
      "IPADAPTER"
    ],
    [
      826,
      370,
      0,
      437,
      5,
      "CLIP_VISION"
    ],
    [
      827,
      437,
      1,
      207,
      1,
      "CONDITIONING"
    ],
    [
      828,
      437,
      2,
      207,
      2,
      "CONDITIONING"
    ],
    [
      829,
      437,
      3,
      187,
      0,
      "MODEL"
    ]
  ],
  "groups": [
    {
      "title": "First sampler, interpolation",
      "bounding": [
        1430,
        -1472,
        929,
        1307
      ],
      "color": "#8A8",
      "font_size": 24
    },
    {
      "title": "Increase Framerate",
      "bounding": [
        2546,
        -1257,
        657,
        898
      ],
      "color": "#8A8",
      "font_size": 24
    },
    {
      "title": "Saving",
      "bounding": [
        3351,
        -1116,
        375,
        657
      ],
      "color": "#a1309b",
      "font_size": 24
    },
    {
      "title": "Group",
      "bounding": [
        -758,
        -1553,
        2079,
        1455
      ],
      "color": "#3f789e",
      "font_size": 24
    },
    {
      "title": "Group",
      "bounding": [
        -1680,
        -1277,
        752,
        1100
      ],
      "color": "#3f789e",
      "font_size": 24
    }
  ],
  "config": {},
  "extra": {},
  "version": 0.4
}